<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Installation &#8212; Monalisa 0.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <link rel="stylesheet" type="text/css" href="_static/custom-navigation.css?v=899df2ba" />
    <link rel="stylesheet" type="text/css" href="_static/custom-button.css?v=35775deb" />
    <link rel="stylesheet" type="text/css" href="_static/important.css?v=8e75c088" />
    <link rel="stylesheet" type="text/css" href="_static/tip.css?v=66ef22ed" />
    <script src="_static/documentation_options.js?v=01f34227"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/custom.js?v=35170ed4"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contents" href="2_contents.html" />
    <link rel="prev" title="Hello Monalisa" href="1-1_hello_monalisa.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
  <div role="main">
    
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Link to this heading">¶</a></h1>
<p>To get started with the MRI reconstruction code, follow these steps:</p>
<section id="clone-the-repository">
<h2>Clone the Repository<a class="headerlink" href="#clone-the-repository" title="Link to this heading">¶</a></h2>
<p>Clone the repository and navigate into the directory, using your terminal, navigate to the directory where you want to install the monalisa folder then run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/MattechLab/monalisa.git
<span class="nb">cd</span><span class="w"> </span>monalisa
</pre></div>
</div>
</section>
<section id="set-up-a-c-compiler">
<h2>Set Up a c++ Compiler<a class="headerlink" href="#set-up-a-c-compiler" title="Link to this heading">¶</a></h2>
<p>Ensure you have a compiler that is recognized by MATLAB. You can run the following command in MATLAB to check if you already have one:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="nb">mex</span><span class="w"> </span><span class="o">-</span><span class="nb">setup</span><span class="w"> </span><span class="n">C</span><span class="o">++</span>
</pre></div>
</div>
<p>If you see a message like “No supported compiler or SDK was found”, you will need to install a compiler. Refer to the following sections based on your operating system.</p>
<section id="linux">
<h3>Linux<a class="headerlink" href="#linux" title="Link to this heading">¶</a></h3>
<ol class="arabic">
<li><p><strong>Install g++</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt-get<span class="w"> </span>update
sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>g++
</pre></div>
</div>
</li>
</ol>
</section>
<section id="macos">
<h3>macOS<a class="headerlink" href="#macos" title="Link to this heading">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you are using a Mac with Apple Silicon architecture, ensure that you have installed the MATLAB version specifically designed for Apple Silicon. Installing the version intended for Intel architecture may lead to compilation errors.</p>
</div>
<ol class="arabic">
<li><p><strong>Install Xcode Command Line Tools</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>xcode-select<span class="w"> </span>--install
</pre></div>
</div>
</li>
<li><p><strong>Install libomp via Homebrew</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>brew<span class="w"> </span>install<span class="w"> </span>libomp
</pre></div>
</div>
</li>
<li><p><strong>Update the `compileScript.m`</strong>:</p>
<p>Open <cite>compile_mex_for_monalisa.m</cite> at <cite>monalisa/src/bmMex/m/</cite> and update the <cite>libomp_dirs</cite> directory:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="c">% Insert your libomp path instead of this</span>
<span class="n">libomp_dirs</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">dir</span><span class="p">(</span><span class="s">&#39;/opt/homebrew/opt/libomp&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>If you are using homebrew, you can find the path by running:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>brew<span class="w"> </span>--prefix<span class="w"> </span>libomp
</pre></div>
</div>
<p>To be even more clear, you might need to change <a class="reference external" href="https://github.com/MattechLab/monalisa/blob/597a86009e288826efe0486a368b5debda99e962/src/bmMex/m/compile_mex_for_monalisa.m#L62">this</a> line of code.</p>
</li>
</ol>
</section>
<section id="windows">
<h3>Windows<a class="headerlink" href="#windows" title="Link to this heading">¶</a></h3>
<ol class="arabic">
<li><p><strong>Install Visual Studio with C++ components</strong>:</p>
<p>Download and install Visual Studio from the official website. Make sure to include the Desktop development with C++ workload.</p>
</li>
</ol>
</section>
</section>
<section id="add-monalisa-source-path-to-your-matlab-path">
<h2>Add Monalisa source path to your MATLAB path<a class="headerlink" href="#add-monalisa-source-path-to-your-matlab-path" title="Link to this heading">¶</a></h2>
<blockquote>
<div><div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="nb">addpath</span><span class="p">(</span><span class="nb">genpath</span><span class="p">(</span><span class="s">&#39;./src&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="compile-the-c-source">
<h2>Compile the C++ Source<a class="headerlink" href="#compile-the-c-source" title="Link to this heading">¶</a></h2>
<blockquote>
<div><p>After checking that the compiler is successfully installed (mex -setup C++), run <cite>compile_mex_for_monalisa.m</cite> function in MATLAB:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">compile_mex_for_monalisa</span>
</pre></div>
</div>
<p>Congratulations, you are ready to use Monalisa.</p>
</div></blockquote>
</section>
<section id="verify-installation">
<h2>Verify Installation<a class="headerlink" href="#verify-installation" title="Link to this heading">¶</a></h2>
<p>Test your compilation step worked successfully using the example script:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="o">/</span><span class="n">monalisa</span><span class="o">/</span><span class="nb">demo</span><span class="o">/</span><span class="n">script_demo</span><span class="o">/</span><span class="n">script_recon_calls</span><span class="o">/</span>
#<span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="nb">run</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">fist</span><span class="w"> </span><span class="n">recon</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">installation</span><span class="p">:</span>
#<span class="w"> </span><span class="n">static_recon_calls_script</span><span class="p">.</span><span class="n">m</span>
</pre></div>
</div>
</section>
<section id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><strong>Linux</strong>: Ensure that the g++ version is compatible with MATLAB.</p></li>
<li><p><strong>macOS</strong>: You need libomp as explained in this StackOverflow post: <a class="reference external" href="https://stackoverflow.com/questions/25990296/how-to-include-omp-h-in-os-x">How to include omp.h in OS X</a>.</p></li>
<li><p><strong>Windows</strong>: Ensure that the Visual Studio C++ compiler is set up correctly and recognized by MATLAB.</p></li>
</ul>
<p>Follow these steps to set up your environment and compile the necessary code for MRI reconstruction. If you encounter any issues, consider opening an issue on our GitHub repository. We will do our best to help you.</p>
</section>
</section>


          </div>
          
        </div>
      </div>  <!-- This includes the original document content -->

    <!-- Back to Top Button -->
    <button onclick="scrollToTop()" id="back-to-top" title="Go to top">↑</button>
  </div>

      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Monalisa</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="1_quick_start.html">Quick Start</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="1-1_hello_monalisa.html">Hello Monalisa</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#clone-the-repository">Clone the Repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-up-a-c-compiler">Set Up a c++ Compiler</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-monalisa-source-path-to-your-matlab-path">Add Monalisa source path to your MATLAB path</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compile-the-c-source">Compile the C++ Source</a></li>
<li class="toctree-l3"><a class="reference internal" href="#verify-installation">Verify Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notes">Notes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="2_contents.html">Contents</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_examples.html">Examples</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="4_api.html">API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="5_docker.html">Docker for Monalisa</a></li>
<li class="toctree-l1"><a class="reference internal" href="6_ack_contribution.html">Acknowledgment and Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="7_discussions.html">Discussion</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="1_quick_start.html">Quick Start</a><ul>
      <li>Previous: <a href="1-1_hello_monalisa.html" title="previous chapter">Hello Monalisa</a></li>
      <li>Next: <a href="2_contents.html" title="next chapter">Contents</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Bastien Milani.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/1-2_installation.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>